CREATE TABLE foo (
  id SERIAL PRIMARY KEY
);

CREATE TABLE bar (
  id SERIAL PRIMARY KEY
);

BEGIN;
LOCK foo;
COMMIT;

BEGIN;
LOCK TABLE ONLY foo NOWAIT;
COMMIT;

BEGIN;
LOCK TABLE foo, bar IN ROW SHARE MODE;
COMMIT;

BEGIN;
LOCK TABLE foo, bar IN SHARE MODE;
COMMIT;

BEGIN;
LOCK ONLY bar IN SHARE UPDATE EXCLUSIVE MODE;
COMMIT;